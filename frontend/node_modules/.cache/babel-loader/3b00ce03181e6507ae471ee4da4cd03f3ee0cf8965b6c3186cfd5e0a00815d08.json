{"ast":null,"code":"import React,{useContext,useState}from'react';import loginIcons from'../assest/signin.gif';import{FaEye}from\"react-icons/fa\";import{FaEyeSlash}from\"react-icons/fa\";import{Link,useNavigate}from'react-router-dom';import SummaryApi from'../common';import{toast}from'react-toastify';import Context from'../context';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[showPassword,setShowPassword]=useState(false);const[data,setData]=useState({email:\"\",password:\"\"});const navigate=useNavigate();const{fetchUserDetails,fetchUserAddToCart}=useContext(Context);const handleOnChange=e=>{const{name,value}=e.target;setData(preve=>{return{...preve,[name]:value};});};const handleSubmit=async e=>{e.preventDefault();const dataResponse=await fetch(SummaryApi.signIn.url,{method:SummaryApi.signIn.method,credentials:'include',headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)});const dataApi=await dataResponse.json();if(dataApi.success){toast.success(dataApi.message);navigate('/');fetchUserDetails();fetchUserAddToCart();}if(dataApi.error){toast.error(dataApi.message);}};console.log(\"data login\",data);return/*#__PURE__*/_jsx(\"section\",{id:\"login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto container p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-5 w-full max-w-sm mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 mx-auto\",children:/*#__PURE__*/_jsx(\"img\",{src:loginIcons,alt:\"login icons\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"pt-6 flex flex-col gap-2\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email : \"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-100 p-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"enter email\",name:\"email\",value:data.email,onChange:handleOnChange,className:\"w-full h-full outline-none bg-transparent\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password : \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-100 p-2 flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",placeholder:\"enter password\",value:data.password,name:\"password\",onChange:handleOnChange,className:\"w-full h-full outline-none bg-transparent\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer text-xl\",onClick:()=>setShowPassword(preve=>!preve),children:/*#__PURE__*/_jsx(\"span\",{children:showPassword?/*#__PURE__*/_jsx(FaEyeSlash,{}):/*#__PURE__*/_jsx(FaEye,{})})})]}),/*#__PURE__*/_jsx(Link,{to:'/forgot-password',className:\"block w-fit ml-auto hover:underline hover:text-red-600\",children:\"Forgot password ?\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-600 hover:bg-red-700 text-white px-6 py-2 w-full max-w-[150px] rounded-full hover:scale-110 transition-all mx-auto block mt-6\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"my-5\",children:[\"Don't have account ? \",/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",className:\" text-red-600 hover:text-red-700 hover:underline\",children:\"Sign up\"})]})]})})});};export default Login;","map":{"version":3,"names":["React","useContext","useState","loginIcons","FaEye","FaEyeSlash","Link","useNavigate","SummaryApi","toast","Context","jsx","_jsx","jsxs","_jsxs","Login","showPassword","setShowPassword","data","setData","email","password","navigate","fetchUserDetails","fetchUserAddToCart","handleOnChange","e","name","value","target","preve","handleSubmit","preventDefault","dataResponse","fetch","signIn","url","method","credentials","headers","body","JSON","stringify","dataApi","json","success","message","error","console","log","id","children","className","src","alt","onSubmit","type","placeholder","onChange","onClick","to"],"sources":["C:/Users/hp/Desktop/MERN1/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport loginIcons from '../assest/signin.gif'\r\nimport { FaEye } from \"react-icons/fa\";\r\nimport { FaEyeSlash } from \"react-icons/fa\";\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport SummaryApi from '../common';\r\nimport { toast } from 'react-toastify';\r\nimport Context from '../context';\r\n\r\nconst Login = () => {\r\n    const [showPassword,setShowPassword] = useState(false)\r\n    const [data,setData] = useState({\r\n        email : \"\",\r\n        password : \"\"\r\n    })\r\n    const navigate = useNavigate()\r\n    const { fetchUserDetails, fetchUserAddToCart } = useContext(Context)\r\n\r\n    const handleOnChange = (e) =>{\r\n        const { name , value } = e.target\r\n\r\n        setData((preve)=>{\r\n            return{\r\n                ...preve,\r\n                [name] : value\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    const handleSubmit = async(e) =>{\r\n        e.preventDefault()\r\n\r\n        const dataResponse = await fetch(SummaryApi.signIn.url,{\r\n            method : SummaryApi.signIn.method,\r\n            credentials : 'include',\r\n            headers : {\r\n                \"content-type\" : \"application/json\"\r\n            },\r\n            body : JSON.stringify(data)\r\n        })\r\n\r\n        const dataApi = await dataResponse.json()\r\n\r\n        if(dataApi.success){\r\n            toast.success(dataApi.message)\r\n            navigate('/')\r\n            fetchUserDetails()\r\n            fetchUserAddToCart()\r\n        }\r\n\r\n        if(dataApi.error){\r\n            toast.error(dataApi.message)\r\n        }\r\n\r\n    }\r\n\r\n    console.log(\"data login\",data)\r\n    \r\n  return (\r\n    <section id='login'>\r\n        <div className='mx-auto container p-4'>\r\n\r\n            <div className='bg-white p-5 w-full max-w-sm mx-auto'>\r\n                    <div className='w-20 h-20 mx-auto'>\r\n                        <img src={loginIcons} alt='login icons'/>\r\n                    </div>\r\n\r\n                    <form className='pt-6 flex flex-col gap-2' onSubmit={handleSubmit}>\r\n                        <div className='grid'>\r\n                            <label>Email : </label>\r\n                            <div className='bg-slate-100 p-2'>\r\n                                <input \r\n                                    type='email' \r\n                                    placeholder='enter email' \r\n                                    name='email'\r\n                                    value={data.email}\r\n                                    onChange={handleOnChange}\r\n                                    className='w-full h-full outline-none bg-transparent'/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label>Password : </label>\r\n                            <div className='bg-slate-100 p-2 flex'>\r\n                                <input \r\n                                    type={showPassword ? \"text\" : \"password\"} \r\n                                    placeholder='enter password'\r\n                                    value={data.password}\r\n                                    name='password' \r\n                                    onChange={handleOnChange}\r\n                                    className='w-full h-full outline-none bg-transparent'/>\r\n                                <div className='cursor-pointer text-xl' onClick={()=>setShowPassword((preve)=>!preve)}>\r\n                                    <span>\r\n                                        {\r\n                                            showPassword ? (\r\n                                                <FaEyeSlash/>\r\n                                            )\r\n                                            :\r\n                                            (\r\n                                                <FaEye/>\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <Link to={'/forgot-password'} className='block w-fit ml-auto hover:underline hover:text-red-600'>\r\n                                Forgot password ?\r\n                            </Link>\r\n                        </div>\r\n\r\n                        <button className='bg-red-600 hover:bg-red-700 text-white px-6 py-2 w-full max-w-[150px] rounded-full hover:scale-110 transition-all mx-auto block mt-6'>Login</button>\r\n\r\n                    </form>\r\n\r\n                    <p className='my-5'>Don't have account ? <Link to={\"/sign-up\"} className=' text-red-600 hover:text-red-700 hover:underline'>Sign up</Link></p>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}