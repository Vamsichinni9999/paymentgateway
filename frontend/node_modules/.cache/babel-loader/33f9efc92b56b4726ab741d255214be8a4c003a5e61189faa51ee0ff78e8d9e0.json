{"ast":null,"code":"import React,{useState}from'react';import ROLE from'../common/role';import{IoMdClose}from\"react-icons/io\";import SummaryApi from'../common';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChangeUserRole=_ref=>{let{name,email,role,userId,onClose,callFunc}=_ref;const[userRole,setUserRole]=useState(role);const handleOnChangeSelect=e=>{setUserRole(e.target.value);console.log(e.target.value);};const updateUserRole=async()=>{const fetchResponse=await fetch(SummaryApi.updateUser.url,{method:SummaryApi.updateUser.method,credentials:'include',headers:{\"content-type\":\"application/json\"},body:JSON.stringify({userId:userId,role:userRole})});const responseData=await fetchResponse.json();if(responseData.success){toast.success(responseData.message);onClose();callFunc();}console.log(\"role updated\",responseData);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-0 bottom-0 left-0 right-0 w-full h-full z-10 flex justify-between items-center bg-slate-200 bg-opacity-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto bg-white shadow-md p-4 w-full max-w-sm\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"block ml-auto\",onClick:onClose,children:/*#__PURE__*/_jsx(IoMdClose,{})}),/*#__PURE__*/_jsx(\"h1\",{className:\"pb-4 text-lg font-medium\",children:\"Change User Role\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Name : \",name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email : \",email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between my-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Role :\"}),/*#__PURE__*/_jsx(\"select\",{className:\"border px-4 py-1\",value:userRole,onChange:handleOnChangeSelect,children:Object.values(ROLE).map(el=>{return/*#__PURE__*/_jsx(\"option\",{value:el,children:el},el);})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-fit mx-auto block  py-1 px-3 rounded-full bg-red-600 text-white hover:bg-red-700\",onClick:updateUserRole,children:\"Change Role\"})]})});};export default ChangeUserRole;","map":{"version":3,"names":["React","useState","ROLE","IoMdClose","SummaryApi","toast","jsx","_jsx","jsxs","_jsxs","ChangeUserRole","_ref","name","email","role","userId","onClose","callFunc","userRole","setUserRole","handleOnChangeSelect","e","target","value","console","log","updateUserRole","fetchResponse","fetch","updateUser","url","method","credentials","headers","body","JSON","stringify","responseData","json","success","message","className","children","onClick","onChange","Object","values","map","el"],"sources":["C:/Users/hp/Desktop/MERN1/frontend/src/components/ChangeUserRole.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport ROLE from '../common/role'\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport SummaryApi from '../common';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst ChangeUserRole = ({\r\n    name,\r\n    email,\r\n    role,\r\n    userId,\r\n    onClose,\r\n    callFunc,\r\n}) => {\r\n    const [userRole,setUserRole] = useState(role)\r\n\r\n    const handleOnChangeSelect = (e) => {\r\n        setUserRole(e.target.value)\r\n\r\n        console.log(e.target.value)\r\n    }\r\n\r\n    const updateUserRole = async() =>{\r\n        const fetchResponse = await fetch(SummaryApi.updateUser.url,{\r\n            method : SummaryApi.updateUser.method,\r\n            credentials : 'include',\r\n            headers : {\r\n                \"content-type\" : \"application/json\"\r\n            },\r\n            body : JSON.stringify({\r\n                userId : userId,\r\n                role : userRole\r\n            })\r\n        })\r\n\r\n        const responseData = await fetchResponse.json()\r\n\r\n        if(responseData.success){\r\n            toast.success(responseData.message)\r\n            onClose()\r\n            callFunc()\r\n        }\r\n\r\n        console.log(\"role updated\",responseData)\r\n\r\n    }\r\n\r\n  return (\r\n    <div className='fixed top-0 bottom-0 left-0 right-0 w-full h-full z-10 flex justify-between items-center bg-slate-200 bg-opacity-50'>\r\n       <div className='mx-auto bg-white shadow-md p-4 w-full max-w-sm'>\r\n\r\n            <button className='block ml-auto' onClick={onClose}>\r\n                <IoMdClose/>\r\n            </button>\r\n\r\n            <h1 className='pb-4 text-lg font-medium'>Change User Role</h1>\r\n\r\n             <p>Name : {name}</p>   \r\n             <p>Email : {email}</p> \r\n\r\n            <div className='flex items-center justify-between my-4'>\r\n                <p>Role :</p>  \r\n                <select className='border px-4 py-1' value={userRole} onChange={handleOnChangeSelect}>\r\n                    {\r\n                        Object.values(ROLE).map(el => {\r\n                            return(\r\n                                <option value={el} key={el}>{el}</option>\r\n                            )\r\n                        })\r\n                    }\r\n                </select>\r\n            </div>\r\n\r\n\r\n            <button className='w-fit mx-auto block  py-1 px-3 rounded-full bg-red-600 text-white hover:bg-red-700' onClick={updateUserRole}>Change Role</button>\r\n       </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChangeUserRole"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}