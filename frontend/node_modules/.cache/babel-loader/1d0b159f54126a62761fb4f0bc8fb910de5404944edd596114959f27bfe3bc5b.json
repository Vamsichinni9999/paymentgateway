{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import fetchCategoryWiseProduct from'../helpers/fetchCategoryWiseProduct';import displayINRCurrency from'../helpers/displayCurrency';import{FaAngleLeft,FaAngleRight}from'react-icons/fa6';import{Link}from'react-router-dom';import addToCart from'../helpers/addToCart';import Context from'../context';import scrollTop from'../helpers/scrollTop';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategroyWiseProductDisplay=_ref=>{let{category,heading}=_ref;const[data,setData]=useState([]);const[loading,setLoading]=useState(true);const loadingList=new Array(13).fill(null);const{fetchUserAddToCart}=useContext(Context);const handleAddToCart=async(e,id)=>{await addToCart(e,id);fetchUserAddToCart();};const fetchData=async()=>{setLoading(true);const categoryProduct=await fetchCategoryWiseProduct(category);setLoading(false);console.log(\"horizontal data\",categoryProduct.data);setData(categoryProduct===null||categoryProduct===void 0?void 0:categoryProduct.data);};useEffect(()=>{fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 my-6 relative\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold py-4\",children:heading}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-[repeat(auto-fit,minmax(300px,320px))] justify-between md:gap-6 overflow-x-scroll scrollbar-none transition-all\",children:loading?loadingList.map((product,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full min-w-[280px]  md:min-w-[320px] max-w-[280px] md:max-w-[320px]  bg-white rounded-sm shadow \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-200 h-48 p-4 min-w-[280px] md:min-w-[145px] flex justify-center items-center animate-pulse\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 grid gap-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-medium text-base md:text-lg text-ellipsis line-clamp-1 text-black p-1 py-2 animate-pulse rounded-full bg-slate-200\"}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize text-slate-500 p-1 animate-pulse rounded-full bg-slate-200  py-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-medium p-1 animate-pulse rounded-full bg-slate-200 w-full  py-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 line-through p-1 animate-pulse rounded-full bg-slate-200 w-full  py-2\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm  text-white px-3  rounded-full bg-slate-200  py-2 animate-pulse\"})]})]});}):data.map((product,index)=>{return/*#__PURE__*/_jsxs(Link,{to:\"/product/\"+(product===null||product===void 0?void 0:product._id),className:\"w-full min-w-[280px]  md:min-w-[320px] max-w-[280px] md:max-w-[320px]  bg-white rounded-sm shadow \",onClick:scrollTop,children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-200 h-48 p-4 min-w-[280px] md:min-w-[145px] flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"img\",{src:product.productImage[0],className:\"object-scale-down h-full hover:scale-110 transition-all mix-blend-multiply\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 grid gap-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-medium text-base md:text-lg text-ellipsis line-clamp-1 text-black\",children:product===null||product===void 0?void 0:product.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize text-slate-500\",children:product===null||product===void 0?void 0:product.category}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-medium\",children:displayINRCurrency(product===null||product===void 0?void 0:product.sellingPrice)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 line-through\",children:displayINRCurrency(product===null||product===void 0?void 0:product.price)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm bg-red-600 hover:bg-red-700 text-white px-3 py-0.5 rounded-full\",onClick:e=>handleAddToCart(e,product===null||product===void 0?void 0:product._id),children:\"Add to Cart\"})]})]});})})]});};export default CategroyWiseProductDisplay;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","fetchCategoryWiseProduct","displayINRCurrency","FaAngleLeft","FaAngleRight","Link","addToCart","Context","scrollTop","jsx","_jsx","jsxs","_jsxs","CategroyWiseProductDisplay","_ref","category","heading","data","setData","loading","setLoading","loadingList","Array","fill","fetchUserAddToCart","handleAddToCart","e","id","fetchData","categoryProduct","console","log","className","children","map","product","index","to","_id","onClick","src","productImage","productName","sellingPrice","price"],"sources":["C:/Users/hp/Desktop/MERN1/frontend/src/components/CategoryWiseProductDisplay.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport fetchCategoryWiseProduct from '../helpers/fetchCategoryWiseProduct'\r\nimport displayINRCurrency from '../helpers/displayCurrency'\r\nimport { FaAngleLeft, FaAngleRight } from 'react-icons/fa6'\r\nimport { Link } from 'react-router-dom'\r\nimport addToCart from '../helpers/addToCart'\r\nimport Context from '../context'\r\nimport scrollTop from '../helpers/scrollTop'\r\n\r\nconst CategroyWiseProductDisplay = ({category, heading}) => {\r\n    const [data,setData] = useState([])\r\n    const [loading,setLoading] = useState(true)\r\n    const loadingList = new Array(13).fill(null)\r\n\r\n    const { fetchUserAddToCart } = useContext(Context)\r\n\r\n    const handleAddToCart = async(e,id)=>{\r\n       await addToCart(e,id)\r\n       fetchUserAddToCart()\r\n    }\r\n\r\n\r\n\r\n\r\n    const fetchData = async() =>{\r\n        setLoading(true)\r\n        const categoryProduct = await fetchCategoryWiseProduct(category)\r\n        setLoading(false)\r\n\r\n        console.log(\"horizontal data\",categoryProduct.data)\r\n        setData(categoryProduct?.data)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetchData()\r\n    },[])\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className='container mx-auto px-4 my-6 relative'>\r\n\r\n            <h2 className='text-2xl font-semibold py-4'>{heading}</h2>\r\n\r\n                \r\n           <div className='grid grid-cols-[repeat(auto-fit,minmax(300px,320px))] justify-between md:gap-6 overflow-x-scroll scrollbar-none transition-all'>\r\n           {\r\n\r\n                loading ? (\r\n                    loadingList.map((product,index)=>{\r\n                        return(\r\n                            <div className='w-full min-w-[280px]  md:min-w-[320px] max-w-[280px] md:max-w-[320px]  bg-white rounded-sm shadow '>\r\n                                <div className='bg-slate-200 h-48 p-4 min-w-[280px] md:min-w-[145px] flex justify-center items-center animate-pulse'>\r\n                                </div>\r\n                                <div className='p-4 grid gap-3'>\r\n                                    <h2 className='font-medium text-base md:text-lg text-ellipsis line-clamp-1 text-black p-1 py-2 animate-pulse rounded-full bg-slate-200'></h2>\r\n                                    <p className='capitalize text-slate-500 p-1 animate-pulse rounded-full bg-slate-200  py-2'></p>\r\n                                    <div className='flex gap-3'>\r\n                                        <p className='text-red-600 font-medium p-1 animate-pulse rounded-full bg-slate-200 w-full  py-2'></p>\r\n                                        <p className='text-slate-500 line-through p-1 animate-pulse rounded-full bg-slate-200 w-full  py-2'></p>\r\n                                    </div>\r\n                                    <button className='text-sm  text-white px-3  rounded-full bg-slate-200  py-2 animate-pulse'></button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                ) : (\r\n                    data.map((product,index)=>{\r\n                        return(\r\n                            <Link to={\"/product/\"+product?._id} className='w-full min-w-[280px]  md:min-w-[320px] max-w-[280px] md:max-w-[320px]  bg-white rounded-sm shadow ' onClick={scrollTop}>\r\n                                <div className='bg-slate-200 h-48 p-4 min-w-[280px] md:min-w-[145px] flex justify-center items-center'>\r\n                                    <img src={product.productImage[0]} className='object-scale-down h-full hover:scale-110 transition-all mix-blend-multiply'/>\r\n                                </div>\r\n                                <div className='p-4 grid gap-3'>\r\n                                    <h2 className='font-medium text-base md:text-lg text-ellipsis line-clamp-1 text-black'>{product?.productName}</h2>\r\n                                    <p className='capitalize text-slate-500'>{product?.category}</p>\r\n                                    <div className='flex gap-3'>\r\n                                        <p className='text-red-600 font-medium'>{ displayINRCurrency(product?.sellingPrice) }</p>\r\n                                        <p className='text-slate-500 line-through'>{ displayINRCurrency(product?.price)  }</p>\r\n                                    </div>\r\n                                    <button className='text-sm bg-red-600 hover:bg-red-700 text-white px-3 py-0.5 rounded-full' onClick={(e)=>handleAddToCart(e,product?._id)}>Add to Cart</button>\r\n                                </div>\r\n                            </Link>\r\n                        )\r\n                    })\r\n                )\r\n                \r\n            }\r\n           </div>\r\n            \r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CategroyWiseProductDisplay"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}