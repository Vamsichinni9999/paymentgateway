{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import fetchCategoryWiseProduct from'../helpers/fetchCategoryWiseProduct';import displayINRCurrency from'../helpers/displayCurrency';import{FaAngleLeft,FaAngleRight}from'react-icons/fa6';import{Link}from'react-router-dom';import addToCart from'../helpers/addToCart';import Context from'../context';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VerticalCardProduct=_ref=>{let{category,heading}=_ref;const[data,setData]=useState([]);const[loading,setLoading]=useState(true);const loadingList=new Array(13).fill(null);const[scroll,setScroll]=useState(0);const scrollElement=useRef();const{fetchUserAddToCart}=useContext(Context);const handleAddToCart=async(e,id)=>{await addToCart(e,id);fetchUserAddToCart();};const fetchData=async()=>{setLoading(true);const categoryProduct=await fetchCategoryWiseProduct(category);setLoading(false);console.log(\"horizontal data\",categoryProduct.data);setData(categoryProduct===null||categoryProduct===void 0?void 0:categoryProduct.data);};useEffect(()=>{fetchData();},[]);const scrollRight=()=>{scrollElement.current.scrollLeft+=300;};const scrollLeft=()=>{scrollElement.current.scrollLeft-=300;};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 my-6 relative\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold py-4\",children:heading}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 md:gap-6 overflow-x-scroll scrollbar-none transition-all\",ref:scrollElement,children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-white shadow-md rounded-full p-1 absolute left-0 text-lg hidden md:block\",onClick:scrollLeft,children:/*#__PURE__*/_jsx(FaAngleLeft,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-white shadow-md rounded-full p-1 absolute right-0 text-lg hidden md:block\",onClick:scrollRight,children:/*#__PURE__*/_jsx(FaAngleRight,{})}),loading?loadingList.map((product,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full min-w-[280px]  md:min-w-[320px] max-w-[280px] md:max-w-[320px]  bg-white rounded-sm shadow \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-200 h-48 p-4 min-w-[280px] md:min-w-[145px] flex justify-center items-center animate-pulse\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 grid gap-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-medium text-base md:text-lg text-ellipsis line-clamp-1 text-black p-1 py-2 animate-pulse rounded-full bg-slate-200\"}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize text-slate-500 p-1 animate-pulse rounded-full bg-slate-200  py-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-medium p-1 animate-pulse rounded-full bg-slate-200 w-full  py-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 line-through p-1 animate-pulse rounded-full bg-slate-200 w-full  py-2\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm  text-white px-3  rounded-full bg-slate-200  py-2 animate-pulse\"})]})]});}):data.map((product,index)=>{return/*#__PURE__*/_jsxs(Link,{to:\"product/\"+(product===null||product===void 0?void 0:product._id),className:\"w-full min-w-[280px]  md:min-w-[320px] max-w-[280px] md:max-w-[320px]  bg-white rounded-sm shadow \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-200 h-48 p-4 min-w-[280px] md:min-w-[145px] flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"img\",{src:product.productImage[0],className:\"object-scale-down h-full hover:scale-110 transition-all mix-blend-multiply\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 grid gap-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-medium text-base md:text-lg text-ellipsis line-clamp-1 text-black\",children:product===null||product===void 0?void 0:product.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize text-slate-500\",children:product===null||product===void 0?void 0:product.category}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-medium\",children:displayINRCurrency(product===null||product===void 0?void 0:product.sellingPrice)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 line-through\",children:displayINRCurrency(product===null||product===void 0?void 0:product.price)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm bg-red-600 hover:bg-red-700 text-white px-3 py-0.5 rounded-full\",onClick:e=>handleAddToCart(e,product===null||product===void 0?void 0:product._id),children:\"Add to Cart\"})]})]});})]})]});};export default VerticalCardProduct;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","fetchCategoryWiseProduct","displayINRCurrency","FaAngleLeft","FaAngleRight","Link","addToCart","Context","jsx","_jsx","jsxs","_jsxs","VerticalCardProduct","_ref","category","heading","data","setData","loading","setLoading","loadingList","Array","fill","scroll","setScroll","scrollElement","fetchUserAddToCart","handleAddToCart","e","id","fetchData","categoryProduct","console","log","scrollRight","current","scrollLeft","className","children","ref","onClick","map","product","index","to","_id","src","productImage","productName","sellingPrice","price"],"sources":["C:/Users/hp/Desktop/MERN1/frontend/src/components/VerticalCardProduct.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport fetchCategoryWiseProduct from '../helpers/fetchCategoryWiseProduct'\r\nimport displayINRCurrency from '../helpers/displayCurrency'\r\nimport { FaAngleLeft, FaAngleRight } from 'react-icons/fa6'\r\nimport { Link } from 'react-router-dom'\r\nimport addToCart from '../helpers/addToCart'\r\nimport Context from '../context'\r\n\r\nconst VerticalCardProduct = ({category, heading}) => {\r\n    const [data,setData] = useState([])\r\n    const [loading,setLoading] = useState(true)\r\n    const loadingList = new Array(13).fill(null)\r\n\r\n    const [scroll,setScroll] = useState(0)\r\n    const scrollElement = useRef()\r\n\r\n    const { fetchUserAddToCart } = useContext(Context)\r\n\r\n    const handleAddToCart = async(e,id)=>{\r\n       await addToCart(e,id)\r\n       fetchUserAddToCart()\r\n    }\r\n\r\n    const fetchData = async() =>{\r\n        setLoading(true)\r\n        const categoryProduct = await fetchCategoryWiseProduct(category)\r\n        setLoading(false)\r\n\r\n        console.log(\"horizontal data\",categoryProduct.data)\r\n        setData(categoryProduct?.data)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetchData()\r\n    },[])\r\n\r\n    const scrollRight = () =>{\r\n        scrollElement.current.scrollLeft += 300\r\n    }\r\n    const scrollLeft = () =>{\r\n        scrollElement.current.scrollLeft -= 300\r\n    }\r\n\r\n\r\n  return (\r\n    <div className='container mx-auto px-4 my-6 relative'>\r\n\r\n            <h2 className='text-2xl font-semibold py-4'>{heading}</h2>\r\n\r\n                \r\n           <div className='flex items-center gap-4 md:gap-6 overflow-x-scroll scrollbar-none transition-all' ref={scrollElement}>\r\n\r\n            <button  className='bg-white shadow-md rounded-full p-1 absolute left-0 text-lg hidden md:block' onClick={scrollLeft}><FaAngleLeft/></button>\r\n            <button  className='bg-white shadow-md rounded-full p-1 absolute right-0 text-lg hidden md:block' onClick={scrollRight}><FaAngleRight/></button> \r\n\r\n           {\r\n\r\n                loading ? (\r\n                    loadingList.map((product,index)=>{\r\n                        return(\r\n                            <div className='w-full min-w-[280px]  md:min-w-[320px] max-w-[280px] md:max-w-[320px]  bg-white rounded-sm shadow '>\r\n                                <div className='bg-slate-200 h-48 p-4 min-w-[280px] md:min-w-[145px] flex justify-center items-center animate-pulse'>\r\n                                </div>\r\n                                <div className='p-4 grid gap-3'>\r\n                                    <h2 className='font-medium text-base md:text-lg text-ellipsis line-clamp-1 text-black p-1 py-2 animate-pulse rounded-full bg-slate-200'></h2>\r\n                                    <p className='capitalize text-slate-500 p-1 animate-pulse rounded-full bg-slate-200  py-2'></p>\r\n                                    <div className='flex gap-3'>\r\n                                        <p className='text-red-600 font-medium p-1 animate-pulse rounded-full bg-slate-200 w-full  py-2'></p>\r\n                                        <p className='text-slate-500 line-through p-1 animate-pulse rounded-full bg-slate-200 w-full  py-2'></p>\r\n                                    </div>\r\n                                    <button className='text-sm  text-white px-3  rounded-full bg-slate-200  py-2 animate-pulse'></button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                ) : (\r\n                    data.map((product,index)=>{\r\n                        return(\r\n                            <Link to={\"product/\"+product?._id} className='w-full min-w-[280px]  md:min-w-[320px] max-w-[280px] md:max-w-[320px]  bg-white rounded-sm shadow '>\r\n                                <div className='bg-slate-200 h-48 p-4 min-w-[280px] md:min-w-[145px] flex justify-center items-center'>\r\n                                    <img src={product.productImage[0]} className='object-scale-down h-full hover:scale-110 transition-all mix-blend-multiply'/>\r\n                                </div>\r\n                                <div className='p-4 grid gap-3'>\r\n                                    <h2 className='font-medium text-base md:text-lg text-ellipsis line-clamp-1 text-black'>{product?.productName}</h2>\r\n                                    <p className='capitalize text-slate-500'>{product?.category}</p>\r\n                                    <div className='flex gap-3'>\r\n                                        <p className='text-red-600 font-medium'>{ displayINRCurrency(product?.sellingPrice) }</p>\r\n                                        <p className='text-slate-500 line-through'>{ displayINRCurrency(product?.price)  }</p>\r\n                                    </div>\r\n                                    <button className='text-sm bg-red-600 hover:bg-red-700 text-white px-3 py-0.5 rounded-full' onClick={(e)=>handleAddToCart(e,product?._id)}>Add to Cart</button>\r\n                                </div>\r\n                            </Link>\r\n                        )\r\n                    })\r\n                )\r\n                \r\n            }\r\n           </div>\r\n            \r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VerticalCardProduct"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}